// --- 로컬 스토리지 이메일 중복 확인 (활성화된 버전) ---
// duplicateEmailButtonCheck.addEventListener("click", function () {
//   const email = userIdInput.value.trim();

//   if (!isValidEmail(email)) {
//     emailErrorMessageLog.textContent = "유효한 이메일 형식을 먼저 입력해주세요.";
//     emailErrorMessageLog.style.display = "block";
//     emailErrorMessageLog.style.color = "red";
//     isEmailDuplicatedChecked = false;
//     return;
//   }

//   const users = JSON.parse(localStorage.getItem("users")) || [];
//   const isDuplicate = users.some((user) => user.email === email);

//   if (isDuplicate) {
//     emailErrorMessageLog.textContent = "이미 사용중인 이메일 입니다.";
//     emailErrorMessageLog.style.display = "block";
//     emailErrorMessageLog.style.color = "red";
//     isEmailDuplicatedChecked = false;
//   } else {
//     emailErrorMessageLog.textContent = "사용 가능한 이메일입니다.";
//     emailErrorMessageLog.style.color = "green";
//     emailErrorMessageLog.style.display = "block";
//     isEmailDuplicatedChecked = true;
//   }
// });


//   // --- Local Storage에서 닉네임 중복 확인 (활성화된 버전) ---
// duplicateNicknameCheck.addEventListener("click", function () {
//   const nickname = userNicknameCheck.value.trim();
//   if (!isValidNickname(nickname)) {
//     duplicateNicknameAuthenticationErrorCheck.textContent =
//       "닉네임은 12자리 이하 영문 대/소문자, 숫자, 한글만 가능합니다.";
//     duplicateNicknameAuthenticationErrorCheck.style.display = "block";
//     duplicateNicknameAuthenticationErrorCheck.style.color = "red";
//     isNicknameDuplicatedChecked = false;
//     return;
//   }

//   const users = JSON.parse(localStorage.getItem("users")) || [];
//   const isDuplicate = users.some((user) => user.nickname === nickname);

//   if (isDuplicate) {
//     duplicateNicknameAuthenticationErrorCheck.textContent = "이미 사용중인 닉네임 입니다.";
//     duplicateNicknameAuthenticationErrorCheck.style.display = "block";
//     duplicateNicknameAuthenticationErrorCheck.style.color = "red";
//     isNicknameDuplicatedChecked = false;
//   } else {
//     duplicateNicknameAuthenticationErrorCheck.textContent = "사용 가능한 닉네임 입니다.";
//     duplicateNicknameAuthenticationErrorCheck.style.color = "green";
//     duplicateNicknameAuthenticationErrorCheck.style.display = "block";
//     isNicknameDuplicatedChecked = true;
//   }
// });




// window.check = function (event) {
//   if (event) {
//     event.preventDefault(); // 폼 제출 시 새로고침 방지
//   }
//   let isValidForm = true;

//   // 이메일 유효성 검사
//   const email = userIdInput.value.trim();
//   if (email === "") {
//     emailErrorMessageLog.textContent = "이메일을 입력해주세요.";
//     emailErrorMessageLog.style.display = "block";
//     emailErrorMessageLog.style.color = "red";
//     isValidForm = false;
//   } else if (!isValidEmail(email)) {
//     emailErrorMessageLog.textContent = "올바른 이메일 형식이 아닙니다.";
//     emailErrorMessageLog.style.display = "block";
//     emailErrorMessageLog.style.color = "red";
//     isValidForm = false;
//   } else if (!isEmailDuplicatedChecked) { // 중복 확인 여부 검사
//     emailErrorMessageLog.textContent = "이메일 중복확인이 필요합니다.";
//     emailErrorMessageLog.style.color = "red";
//     emailErrorMessageLog.style.display = "block";
//     isValidForm = false;
//   } else {
//     emailErrorMessageLog.style.display = "none";
//   }

//   // 비밀번호 유효성 검사
//   const password = userPasswordInput.value.trim();
//   if (password === "") {
//     passwordErrorMessageLog.textContent = "비밀번호를 입력해주세요.";
//     passwordErrorMessageLog.style.display = "block";
//     isValidForm = false;
//   } else if (!isValidPassword(password)) {
//     passwordErrorMessageLog.textContent =
//       "비밀번호는 8~16자 사이의 영문 대/소문자, 숫자, 특수문자를 포함해야 합니다.(공백불가)";
//     passwordErrorMessageLog.style.display = "block";
//     isValidForm = false;
//   } else {
//     passwordErrorMessageLog.style.display = "none";
//   }

//   // 비밀번호 확인 유효성 검사
//   const confirmPassword = userTruePasswordCheck.value.trim();
//   if (confirmPassword === "") {
//     passwordMismatchErrorLog.textContent = "비밀번호 확인을 입력해주세요.";
//     passwordMismatchErrorLog.style.display = "block";
//     isValidForm = false;
//   } else if (password !== confirmPassword) {
//     passwordMismatchErrorLog.textContent = "비밀번호가 일치하지 않습니다.";
//     passwordMismatchErrorLog.style.display = "block";
//     isValidForm = false;
//   } else {
//     passwordMismatchErrorLog.style.display = "none";
//   }

//   // 닉네임 유효성 검사
//   const nickname = userNicknameCheck.value.trim();
//   if (nickname === "") {
//     userNicknameErrorCheck.textContent = "닉네임을 입력해주세요.";
//     userNicknameErrorCheck.style.display = "block";
//     isValidForm = false;
//   } else if (!isValidNickname(nickname)) {
//     userNicknameErrorCheck.textContent = "닉네임은 12자 이하 공백/특수문자 사용불가";
//     userNicknameErrorCheck.style.display = "block";
//     isValidForm = false;
//   } else if (!isNicknameDuplicatedChecked) { // 중복 확인 여부 검사
//     duplicateNicknameAuthenticationErrorCheck.textContent = "닉네임 중복확인을 해주세요.";
//     duplicateNicknameAuthenticationErrorCheck.style.display = "block";
//     duplicateNicknameAuthenticationErrorCheck.style.color = "red";
//     isValidForm = false;
//   } else {
//     userNicknameErrorCheck.style.display = "none";
//   }

//   // 이름 유효성 검사
//   const name = userNameCheck.value.trim();
//   if (name === "") {
//     userNameErrorCheck.textContent = "이름을 입력해주세요.";
//     userNameErrorCheck.style.display = "block";
//     isValidForm = false;
//   } else if (!isValidName(name)) {
//     userNameErrorCheck.textContent = "이름은 한글과 영문만 가능합니다.";
//     userNameErrorCheck.style.display = "block";
//     isValidForm = false;
//   } else {
//     userNameErrorCheck.style.display = "none";
//   }

//   // 생년월일 유효성 검사
//   const birth = userBirthCheck.value.trim();
//   if (birth === "") {
//     userBirthFormatErrorCheck.textContent = "생년월일 8자리를 입력해주세요.";
//     userBirthFormatErrorCheck.style.display = "block";
//     isValidForm = false;
//   } else if (!isValidBirth(birth)) {
//     userBirthFormatErrorCheck.textContent = "생년월일은 숫자 8자리 형식으로 입력해주세요.";
//     userBirthFormatErrorCheck.style.display = "block";
//     isValidForm = false;
//   } else {
//     userBirthFormatErrorCheck.style.display = "none";
//   }

//   // 전화번호 유효성 검사
//   const tel = userTelCheck.value.trim();
//   if (tel === "") {
//     telFormatErrorCheck.textContent = "전화번호를 입력해주세요.";
//     telFormatErrorCheck.style.display = "block";
//     telInvalidErrorCheck.style.display = "none";
//     isValidForm = false;
//   } else if (!isValidTel(tel)) {
//     telFormatErrorCheck.textContent = "전화번호는 숫자만 입력 가능합니다";
//     telFormatErrorErrorCheck.style.display = "block";
//     telInvalidErrorCheck.style.display = "none";
//     isValidForm = false;
//   } else if (!isAvailableTel(tel)) {
//     telInvalidErrorCheck.textContent = "사용할 수 없는 전화번호 형식입니다(10~11 자리 숫자)";
//     telInvalidErrorCheck.style.display = "block";
//     telFormatErrorCheck.style.display = "none";
//     isValidForm = false;
//   } else {
//     telFormatErrorCheck.style.display = "none";
//     telInvalidErrorCheck.style.display = "none";
//   }

//   // 통신사 선택 검사
//   if (telcomCheck.value === "") {
//     telecomErrorCheck.textContent = "통신사를 선택해주세요.";
//     telecomErrorCheck.style.display = "block";
//     isValidForm = false;
//   } else {
//     telecomErrorCheck.style.display = "none";
//   }

//   // 성별 선택 검사
//   const selectedGender = maleCheck.checked ? "male" : femaleCheck.checked ? "female" : "";
//   if (!selectedGender) {
//     genderErrorCheck.textContent = "성별을 선택해주세요.";
//     genderErrorCheck.style.display = "block";
//     isValidForm = false;
//   } else {
//     genderErrorCheck.style.display = "none";
//   }

//   // 모든 폼 유효성 검사 통과 시
//   if (isValidForm) {
//     const users = JSON.parse(localStorage.getItem("users")) || [];
//     const isEmailAlreadyRegistered = users.some((user) => user.email === email);

//     if (isEmailAlreadyRegistered) {
//       alert("이미 가입된 이메일 주소입니다. 로그인해주세요.");
//       emailErrorMessageLog.textContent = "이미 가입된 이메일 주소입니다.";
//       emailErrorMessageLog.style.display = "block";
//       emailErrorMessageLog.style.color = "red";
//       return false;
//     }

//     const newUserData = {
//       email: email,
//       password: password, // 실제 서비스에서는 비밀번호를 암호화하여 저장
//       nickname: nickname,
//       name: name,
//       birth: birth,
//       tel: tel,
//       gender: selectedGender,
//       telecom: telcomCheck.value,
//       isLogin: false, // 로그인 여부 (초기값 false)
//     };

//     users.push(newUserData);
//     localStorage.setItem("users", JSON.stringify(users)); // 로컬 스토리지에 저장

//     alert("회원가입이 완료되었습니다!");
//     console.log("회원가입 성공:", newUserData);
//     // 폼 초기화 (선택 사항)
//     // joinFormInput.reset();
//     return true;
//   } else {
//     alert("입력한 정보를 다시 확인해주세요.");
//     return false;
//   }
// };